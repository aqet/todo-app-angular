<div class="container">
    <div class="content">        <div class="head">
            <h1>Mon Profil</h1>
        </div>
        
        <div *ngIf="user; else noUser" class="profile-container">
            <div class="profile-card">
                <div class="profile-banner"></div>
                <div class="profile-content">
                    <div class="profile-avatar">
                        <img *ngIf="user.profilePhoto" [src]="user.profilePhoto" [alt]="user.username" class="profile-image">
                        <div *ngIf="!user.profilePhoto" class="avatar">
                            {{ user.username?.charAt(0).toUpperCase() }}
                        </div>
                        <button class="change-photo-btn" (click)="changePhoto()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L19 5L17.5 6.5L19 8H21ZM1 5V19C1 20.1 1.9 21 3 21H19C20.1 21 21 20.1 21 19V11H19V19H3V5H11V3H3C1.9 3 1 3.9 1 5Z"/>
                            </svg>
                        </button>
                    </div>
                    <div class="profile-info">
                        <h2>{{ user.username }}</h2>
                        <p class="user-email">{{ user.email }}</p>
                    </div>
                </div>
            </div>
            
            <div class="details-grid">
                <div class="info-card">
                    <div class="card-header">
                        <div class="icon-wrapper">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"/>
                            </svg>
                        </div>
                        <h3>Informations personnelles</h3>
                    </div>
                    <div class="card-content">
                        <div class="info-row">
                            <span class="label">Nom d'utilisateur</span>
                            <span class="value">{{ user.username }}</span>
                        </div>
                        <div class="info-row">
                            <span class="label">Adresse email</span>
                            <span class="value">{{ user.email }}</span>
                        </div>
                    </div>
                </div>
                
                <div class="info-card">
                    <div class="card-header">
                        <div class="icon-wrapper">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z"/>
                            </svg>
                        </div>
                        <h3>Activité du compte</h3>
                    </div>
                    <div class="card-content">
                        <div class="info-row">
                            <span class="label">Membre depuis</span>
                            <span class="value">{{ formatDate(user.createdAt) }}</span>
                        </div>
                        <div class="info-row">
                            <span class="label">Dernière activité</span>
                            <span class="value">{{ formatDate(user.updatedAt) }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <ng-template #noUser>
            <div class="no-user">
                <div class="no-user-icon">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"/>
                    </svg>
                </div>
                <h3>Aucun utilisateur connecté</h3>
                <p>Connectez-vous pour accéder à votre profil</p>
                <button onclick="window.location.href='/auth'">Se connecter</button>
            </div>
        </ng-template>
    </div>
</div>